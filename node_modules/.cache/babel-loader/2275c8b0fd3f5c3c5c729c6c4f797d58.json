{"ast":null,"code":"// Récupérer toutes les personnes de la base de données\nconst getAllPerson = async () => {\n  const myInit = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  return fetch('/person/getAllRows', myInit).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw response;\n  });\n};\n\nconst getTotalNumberOfRows = async () => {\n  const myInit = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  return fetch('/person', myInit).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    throw response;\n  });\n}; // Ajouter une personne à la base de données\n\n\nconst postFormDataAsJson = async ({\n  formData,\n  url\n}) => {\n  const plainFormData = Object.fromEntries(formData.entries());\n  const formDataJsonString = JSON.stringify(plainFormData);\n  const fetchOptions = {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    },\n    body: formDataJsonString\n  };\n  const response = await fetch(url, fetchOptions);\n\n  if (!response.ok) {\n    const errorMessage = await response.text();\n    throw new Error(errorMessage);\n  }\n\n  return response.json();\n}; // Mettre à jour une personne\n\n\nconst putFormDataAsJson = async ({\n  formData,\n  url\n}) => {\n  const plainFormData = Object.fromEntries(formData.entries());\n  const formDataJsonString = JSON.stringify(plainFormData);\n  const fetchOptions = {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    },\n    body: formDataJsonString\n  };\n  const response = await fetch(url, fetchOptions);\n\n  if (!response.ok) {\n    const errorMessage = response.text();\n    throw new Error(errorMessage);\n  }\n\n  return response.json();\n}; // Supprimer une personne de la liste\n\n\nconst deletePerson = async personID => {\n  const myInit = {\n    method: 'DELETE'\n  };\n  console.log(personID);\n  const response = await fetch(`person/${personID}`, myInit);\n  return response;\n}; // Supprimer toutes les personnes de la liste\n\n\nconst deleteAllPerson = async () => {\n  const myInit = {\n    method: 'DELETE'\n  };\n  const response = await fetch('person/', myInit);\n  return response;\n};\n\nexport { getAllPerson, getTotalNumberOfRows, postFormDataAsJson, putFormDataAsJson, deletePerson, deleteAllPerson };","map":{"version":3,"sources":["C:/Users/Alex/Documents/react-person/src/api/PersonAPI.js"],"names":["getAllPerson","myInit","method","headers","fetch","then","response","ok","json","getTotalNumberOfRows","postFormDataAsJson","formData","url","plainFormData","Object","fromEntries","entries","formDataJsonString","JSON","stringify","fetchOptions","body","errorMessage","text","Error","putFormDataAsJson","deletePerson","personID","console","log","deleteAllPerson"],"mappings":"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","sourcesContent":["// Récupérer toutes les personnes de la base de données\r\nconst getAllPerson = async () => {\r\n    const myInit = {\r\n        method: 'GET',\r\n        headers: {\r\n        'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    return fetch('/person/getAllRows', myInit)\r\n        .then(response => {\r\n            if(response.ok) {\r\n                return response.json();\r\n            }\r\n            throw response;\r\n        });\r\n}\r\n\r\nconst getTotalNumberOfRows = async () => {\r\n    const myInit = {\r\n        method: 'GET',\r\n        headers: {\r\n        'Content-Type': 'application/json'\r\n        }\r\n    };\r\n\r\n    return fetch('/person', myInit)\r\n        .then(response => {\r\n            if(response.ok) {\r\n                return response.json();\r\n            }\r\n            throw response;\r\n        });\r\n}\r\n\r\n// Ajouter une personne à la base de données\r\nconst postFormDataAsJson = async ({ formData, url }) => {\r\n    const plainFormData = Object.fromEntries(formData.entries());\r\n    const formDataJsonString = JSON.stringify(plainFormData);\r\n\r\n    const fetchOptions = {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n        },\r\n        body: formDataJsonString,\r\n    };\r\n\r\n    const response = await fetch(url, fetchOptions);\r\n\r\n    if (!response.ok) {\r\n        const errorMessage = await response.text();\r\n        throw new Error(errorMessage);\r\n    }\r\n\r\n    return response.json();\r\n}\r\n\r\n// Mettre à jour une personne\r\nconst putFormDataAsJson = async ({ formData, url }) => {\r\n    const plainFormData = Object.fromEntries(formData.entries());\r\n    const formDataJsonString = JSON.stringify(plainFormData);\r\n\r\n    const fetchOptions = {\r\n        method: \"PUT\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Accept\": \"application/json\",\r\n        },\r\n        body: formDataJsonString,\r\n    };\r\n\r\n    const response = await fetch(url, fetchOptions);\r\n\r\n\r\n    if (!response.ok) {\r\n        const errorMessage = response.text();\r\n        throw new Error(errorMessage);\r\n    }\r\n\r\n    return response.json();\r\n}\r\n\r\n\r\n// Supprimer une personne de la liste\r\nconst deletePerson = async (personID) => {\r\n    const myInit = {\r\n        method: 'DELETE'\r\n    };\r\n    console.log(personID);\r\n    const response = await fetch(`person/${personID}`, myInit);\r\n\r\n    return response;\r\n};\r\n\r\n// Supprimer toutes les personnes de la liste\r\nconst deleteAllPerson = async () => {\r\n    const myInit = {\r\n        method: 'DELETE'\r\n    };\r\n    const response = await fetch('person/', myInit);\r\n\r\n    return response;\r\n}\r\n\r\nexport { getAllPerson, getTotalNumberOfRows, postFormDataAsJson, putFormDataAsJson, deletePerson, deleteAllPerson }"]},"metadata":{},"sourceType":"module"}